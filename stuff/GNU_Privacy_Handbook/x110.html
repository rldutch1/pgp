<!DOCTYPE HTML PUBLIC "-//Norman Walsh//DTD DocBook HTML 1.0//EN">
<HTML
><HEAD
><TITLE
>Encrypting and decrypting documents</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet"><LINK
REL="HOME"
TITLE="The GNU Privacy Handbook"
HREF="book1.html"><LINK
REL="UP"
TITLE="Getting Started"
HREF="c14.html"><LINK
REL="PREVIOUS"
TITLE="Exchanging keys"
HREF="x56.html"><LINK
REL="NEXT"
TITLE="Making and verifying signatures"
HREF="x135.html"></HEAD
><BODY
><DIV
CLASS="NAVHEADER"
><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>The GNU Privacy Handbook</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="x56.html"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 1. Getting Started</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="x135.html"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN110"
>Encrypting and decrypting documents</A
></H1
><P
>A public and private key each have a specific role when
encrypting and decrypting documents.
A public key may be thought of as an open safe.
When a correspondent encrypts a document using a public
key, that document is put in the safe, the safe shut, and the
combination lock spun several times.
The corresponding private key is the combination that can 
reopen the safe and retrieve the document.
In other words, only the person who holds the private key
can recover a document encrypted using the associated public key.</P
><P
>The procedure for encrypting and decrypting documents is
straightforward with this mental model.
If you want to encrypt a message to Alice, you encrypt it
using Alice's public key, and she decrypts it with her private key.
If Alice wants to send you a message, she encrypts it using your
public key, and you decrypt it with your key.</P
><P
>To encrypt a document the option 
<A
HREF="r636.html"
><SPAN
CLASS="OPTION"
>--encrypt</SPAN
></A
> is used.
You must have the public keys of the intended recipients.
The software expects the name of the document to encrypt as input or, if
omitted, on standard input.
The encrypted result is placed on standard output or as specified using
the option <SPAN
CLASS="OPTION"
>--output</SPAN
>.
The document is compressed for additional security in addition to
encrypting it.

<TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="PROMPT"
>alice%</TT
> <TT
CLASS="USERINPUT"
><B
>gpg --output doc.gpg --encrypt --recipient blake@cyb.org doc</B
></TT
></PRE
></TD
></TR
></TABLE
>

The <A
HREF="r1208.html"
><SPAN
CLASS="OPTION"
>--recipient</SPAN
></A
> option
is used once for each recipient and takes an extra argument specifying
the public key to which the document should be encrypted.
The encrypted document can only be decrypted by someone with a private
key that complements one of the recipients' public keys.
In particular, you cannot decrypt a document encrypted by you unless
you included your own public key in the recipient list.</P
><P
>To decrypt a message the option 
<A
HREF="r669.html"
><SPAN
CLASS="OPTION"
>--decrypt</SPAN
></A
> is used.
You need the private key to which the message was encrypted.
Similar to the encryption process, the document to decrypt is
input, and the decrypted result is output.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="PROMPT"
>blake%</TT
> <TT
CLASS="USERINPUT"
><B
>gpg --output doc --decrypt doc.gpg</B
></TT
>

You need a passphrase to unlock the secret key for
user: "Blake (Executioner) &lt;blake@cyb.org&#62;"
1024-bit ELG-E key, ID 5C8CBD41, created 1999-06-04 (main key ID 9E98BC16)

Enter passphrase: </PRE
></TD
></TR
></TABLE
><P
>Documents may also be encrypted without using public-key cryptography.
Instead, only a symmetric cipher is used to encrypt the document.
The key used to drive the symmetric cipher is derived from a passphrase
supplied when the document is encrypted, and for good security, it
should not be the same passphrase that you use to protect your private key.
Symmetric encryption is useful for securing documents when the
passphrase does not need to be communicated to others.
A document can be encrypted with a symmetric cipher by using the
<A
HREF="r656.html"
><SPAN
CLASS="OPTION"
>--symmetric</SPAN
></A
> option.</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="SCREEN"
><TT
CLASS="PROMPT"
>alice%</TT
> <TT
CLASS="USERINPUT"
><B
>gpg --output doc.gpg --symmetric doc</B
></TT
>
Enter passphrase: </PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="x56.html"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="book1.html"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="x135.html"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Exchanging keys</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="c14.html"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Making and verifying signatures</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>